<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14.0.1) on Fri Oct 16 15:45:55 CDT 2020 -->
<title>JavaDelegate</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-10-16">
<meta name="description" content="declaration: package: edu.illinois.library.cantaloupe.delegate, interface: JavaDelegate">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">edu.illinois.library.cantaloupe.delegate</a></div>
<h1 title="Interface JavaDelegate" class="title">Interface JavaDelegate</h1>
</div>
<div class="contentContainer">
<section class="description">
<hr>
<pre>public interface <span class="typeNameLabel">JavaDelegate</span></pre>
<div class="block"><p>Interface to be implemented by JVM language-based delegate classes.</p>

 <p>The application will create an instance of an implementation early in the
 request cycle and dispose of it at the end of the request cycle. Instances
 don't need to be thread-safe, but sharing information across instances
 (requests) <strong>does</strong> need to be done thread-safely.</p>

 <p>The methods in this interface are considered public API. No other part of
 the application is considered public API, unless so documented, and breaking
 changes to it may happen at any time.</p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.0</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#authorize()">authorize</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns authorization status for the current request.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deserializeMetaIdentifier(java.lang.String)">deserializeMetaIdentifier</a></span>&#8203;(java.lang.String&nbsp;metaIdentifier)</code></th>
<td class="colLast">
<div class="block">Deserializes the given meta-identifier string into a map of its
 component parts.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAzureStorageSourceBlobKey()">getAzureStorageSourceBlobKey</a></span>()</code></th>
<td class="colLast">
<div class="block">N.B.: this method should not try to perform authorization.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code><a href="JavaContext.html" title="interface in edu.illinois.library.cantaloupe.delegate">JavaContext</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getContext()">getContext</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExtraIIIF2InformationResponseKeys()">getExtraIIIF2InformationResponseKeys</a></span>()</code></th>
<td class="colLast">
<div class="block">Adds additional keys to an Image API 2.x information response.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExtraIIIF3InformationResponseKeys()">getExtraIIIF3InformationResponseKeys</a></span>()</code></th>
<td class="colLast">
<div class="block">Adds additional keys to an Image API 2.x information response.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFilesystemSourcePathname()">getFilesystemSourcePathname</a></span>()</code></th>
<td class="colLast">
<div class="block">N.B.: this method should not try to perform authorization.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHTTPSourceResourceInfo()">getHTTPSourceResourceInfo</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns one of the following:</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJDBCSourceDatabaseIdentifier()">getJDBCSourceDatabaseIdentifier</a></span>()</code></th>
<td class="colLast">
<div class="block">N.B.: this method should not try to perform authorization.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJDBCSourceLookupSQL()">getJDBCSourceLookupSQL</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getJDBCSourceMediaType()">getJDBCSourceMediaType</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns either the media (MIME) type of an image, or an SQL statement
 that can be used to retrieve it, if it is stored in the database.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMetadata()">getMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns XMP metadata to embed in the derivative image.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOverlay()">getOverlay</a></span>()</code></th>
<td class="colLast">
<div class="block">Tells the server what overlay, if any, to apply to an image.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>java.util.List&lt;java.util.Map&lt;java.lang.String,&#8203;java.lang.Long&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRedactions()">getRedactions</a></span>()</code></th>
<td class="colLast">
<div class="block">Tells the server what regions of an image to redact in response to a
 request.</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getS3SourceObjectInfo()">getS3SourceObjectInfo</a></span>()</code></th>
<td class="colLast">
<div class="block">N.B.: this method should not try to perform authorization.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSource()">getSource</a></span>()</code></th>
<td class="colLast">
<div class="block">Tells the server which source for the <a href="JavaContext.html#getIdentifier()"><code>identifier in the context</code></a>.</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#preAuthorize()">preAuthorize</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns authorization status for the current request.</div>
</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#serializeMetaIdentifier(java.util.Map)">serializeMetaIdentifier</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;&nbsp;metaIdentifier)</code></th>
<td class="colLast">
<div class="block">Serializes the given meta-identifier map.</div>
</td>
</tr>
<tr class="altColor" id="i18">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setContext(edu.illinois.library.cantaloupe.delegate.JavaContext)">setContext</a></span>&#8203;(<a href="JavaContext.html" title="interface in edu.illinois.library.cantaloupe.delegate">JavaContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Invoked automatically early in the request cycle and not for public use.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="getContext()">getContext</a></h3>
<div class="memberSignature"><span class="returnType"><a href="JavaContext.html" title="interface in edu.illinois.library.cantaloupe.delegate">JavaContext</a></span>&nbsp;<span class="memberName">getContext</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Object containing information about the current request.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setContext(edu.illinois.library.cantaloupe.delegate.JavaContext)">setContext</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">setContext</span>&#8203;(<span class="arguments"><a href="JavaContext.html" title="interface in edu.illinois.library.cantaloupe.delegate">JavaContext</a>&nbsp;context)</span></div>
<div class="block">Invoked automatically early in the request cycle and not for public use.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="preAuthorize()">preAuthorize</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.Object</span>&nbsp;<span class="memberName">preAuthorize</span>()</div>
<div class="block"><p>Returns authorization status for the current request. This method is
 called upon all requests to all public endpoints early in the request
 cycle, before any image has been accessed. This means that some context
 properties (like <code>full_size</code>) will not be available yet.</p>

 <p>This method should implement all possible authorization logic except
 that which requires any of the context keys that aren't yet available.
 This will ensure efficient authorization failures.</p>

 <p>Implementations should assume that the underlying resource is
 available, and not try to check for it.</p>

 <p>Possible return values:</p>

 <ol>
     <li>A boolean indicating whether the request is fully authorized or
     not. If not, the client will receive a 403 Forbidden response.</li>
     <li>Map with a <code>status_code</code> key.
         <ol>
             <li>If it corresponds to an integer from 200-299, the request
             is authorized.</li>
             <li>If it corresponds to an integer from 300-399:
                 <ol>
                     <li>If the map also contains a <code>location</code> key
                     corresponding to a URI string, the request will be
                     redirected to that URI using that code.</li>
                     <li>If the map also contains <code>scale_numerator</code>
                     and <code>scale_denominator</code> keys, the request will
                     be redirected using thhat code to a virtual reduced-
                     scale version of the source image.</li>
                 </ol>
             </li>
             <li>If it corresponds to 401, the map must include a <code>
             challenge</code> key corresponding to a <code>WWW-Authenticate</code>
             header value.</li>
         </ol>
     </li>
 </ol></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="authorize()">authorize</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.Object</span>&nbsp;<span class="memberName">authorize</span>()</div>
<div class="block"><p>Returns authorization status for the current request. Will be called
 upon all requests to all public image (not information) endpoints.</p>

 <p>This is a counterpart of <a href="#preAuthorize()"><code>preAuthorize()</code></a> that is invoked later
 in the request cycle, once more information about the underlying image
 has become available. It should only contain logic that depends on
 context properties that contain information about the source image (like
 <a href="JavaContext.html#getFullSize()"><code>JavaContext.getFullSize()</code></a>, <a href="JavaContext.html#getMetadata()"><code>JavaContext.getMetadata()</code></a>,
 etc.</p>

 <p>Implementations should assume that the underlying resource is
 available, and not try to check for it.</p>

 <p>The available return values are the same as for <a href="#preAuthorize()"><code>preAuthorize()</code></a>.</p></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="deserializeMetaIdentifier(java.lang.String)">deserializeMetaIdentifier</a></h3>
<div class="memberSignature"><span class="returnType">java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</span>&nbsp;<span class="memberName">deserializeMetaIdentifier</span>&#8203;(<span class="arguments">java.lang.String&nbsp;metaIdentifier)</span></div>
<div class="block"><p>Deserializes the given meta-identifier string into a map of its
 component parts.</p>

 <p>This method is called only when the <code>
 meta_identifier.transformer</code> configuration key is set to <code>
 DelegateMetaIdentifierTransformer</code>.</p>

 <p>The map contains the following keys:</p>

 <dl>
     <dt><code>identifier</code> (required)</dt>
     <dd>String identifier.</dd>
     <dt><code>page_number</code> (optional)</dt>
     <dd>Integer page number.</dd>
     <dt><code>scale_constraint</code> (optional></dt>
     <dd>Two-element array with scale constraint numerator at position 0
     and denominator at position 1.</dd>
 </dl></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>See above. The return value should be compatible with the
         argument to <a href="#serializeMetaIdentifier(java.util.Map)"><code>serializeMetaIdentifier(Map)</code></a>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#serializeMetaIdentifier(java.util.Map)"><code>serializeMetaIdentifier(Map)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getExtraIIIF2InformationResponseKeys()">getExtraIIIF2InformationResponseKeys</a></h3>
<div class="memberSignature"><span class="returnType">java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</span>&nbsp;<span class="memberName">getExtraIIIF2InformationResponseKeys</span>()</div>
<div class="block">Adds additional keys to an Image API 2.x information response. See the
 <a href="http://iiif.io/api/image/2.1/#image-information">IIIF Image API
 2.1</a> specification and "endpoints" section of the user manual.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Map to merge into an Image API 2.x information response. Return
         an empty map to add nothing.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getExtraIIIF3InformationResponseKeys()">getExtraIIIF3InformationResponseKeys</a></h3>
<div class="memberSignature"><span class="returnType">java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</span>&nbsp;<span class="memberName">getExtraIIIF3InformationResponseKeys</span>()</div>
<div class="block">Adds additional keys to an Image API 2.x information response. See the
 <a href="http://iiif.io/api/image/3.0/#image-information">IIIF Image API
 3.0</a> specification and "endpoints" section of the user manual.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Map to merge into an Image API 3.x information response. Return
         an empty map to add nothing.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getSource()">getSource</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getSource</span>()</div>
<div class="block">Tells the server which source for the <a href="JavaContext.html#getIdentifier()"><code>identifier in the context</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Source name.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getAzureStorageSourceBlobKey()">getAzureStorageSourceBlobKey</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getAzureStorageSourceBlobKey</span>()</div>
<div class="block">N.B.: this method should not try to perform authorization. <a href="#preAuthorize()"><code>preAuthorize()</code></a> and <a href="#authorize()"><code>authorize()</code></a> should be used instead.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Blob key of the image corresponding to the <a href="JavaContext.html#getIdentifier()"><code>identifier in the context</code></a>, or
         <code>null</code> if not found.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getFilesystemSourcePathname()">getFilesystemSourcePathname</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getFilesystemSourcePathname</span>()</div>
<div class="block">N.B.: this method should not try to perform authorization. <a href="#preAuthorize()"><code>preAuthorize()</code></a> and <a href="#authorize()"><code>authorize()</code></a> should be used instead.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Absolute pathname of the image corresponding to the <a href="JavaContext.html#getIdentifier()"><code>identifier in the context</code></a>, or
         <code>null</code> if not found.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getHTTPSourceResourceInfo()">getHTTPSourceResourceInfo</a></h3>
<div class="memberSignature"><span class="returnType">java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</span>&nbsp;<span class="memberName">getHTTPSourceResourceInfo</span>()</div>
<div class="block"><p>Returns one of the following:</p>

 <ol>
     <li>String URI</li>
     <li>Map with the following keys:
         <dl>
             <dt><code>uri</code></dt>
             <dd>String (required)</dd>
             <dt><code>username</code></dt>
             <dd>String (required for HTTP Basic authentication)</dd>
             <dt><code>secret</code></dt>
             <dd>String (required for HTTP Basic authentication)</dd>
             <dt><code>headers</code></dt>
             <dd>Map of request header name-value pairs (optional)</dd>
         </dl>
     </li>
     <li><code>null</code> if not found</li>
 </ol>

 <p>N.B.: this method should not try to perform authorization. <a href="#preAuthorize()"><code>preAuthorize()</code></a> and <a href="#authorize()"><code>authorize()</code></a> should be used instead.</p></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getJDBCSourceDatabaseIdentifier()">getJDBCSourceDatabaseIdentifier</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getJDBCSourceDatabaseIdentifier</span>()</div>
<div class="block"><p>N.B.: this method should not try to perform authorization. <a href="#preAuthorize()"><code>preAuthorize()</code></a> and <a href="#authorize()"><code>authorize()</code></a> should be used instead.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Database identifier of the image corresponding to the <a href="JavaContext.html#getIdentifier()"><code>identifier in the context</code></a>, or
         <code>null</code> if not found.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getJDBCSourceMediaType()">getJDBCSourceMediaType</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getJDBCSourceMediaType</span>()</div>
<div class="block">Returns either the media (MIME) type of an image, or an SQL statement
 that can be used to retrieve it, if it is stored in the database. In the
 latter case, the <code>SELECT</code> and <code>FROM</code> clauses should be in
 uppercase in order to be autodetected. If <code>null</code> is returned, the
 media type will be inferred some other way, such as by identifier
 extension or magic bytes.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getJDBCSourceLookupSQL()">getJDBCSourceLookupSQL</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getJDBCSourceLookupSQL</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>SQL statement that selects the BLOB corresponding to the value
         returned by <a href="#getJDBCSourceDatabaseIdentifier()"><code>getJDBCSourceDatabaseIdentifier()</code></a>.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getS3SourceObjectInfo()">getS3SourceObjectInfo</a></h3>
<div class="memberSignature"><span class="returnType">java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;</span>&nbsp;<span class="memberName">getS3SourceObjectInfo</span>()</div>
<div class="block">N.B.: this method should not try to perform authorization. <a href="#preAuthorize()"><code>preAuthorize()</code></a> and <a href="#authorize()"><code>authorize()</code></a> should be used instead.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Map containing <code>bucket</code> and <code>key</code> keys, or <code>
         null</code> if not found.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getOverlay()">getOverlay</a></h3>
<div class="memberSignature"><span class="returnType">java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</span>&nbsp;<span class="memberName">getOverlay</span>()</div>
<div class="block"><p>Tells the server what overlay, if any, to apply to an image. Called
 upon all image requests to any endpoint if overlays are enabled and the
 overlay strategy is set to <code>ScriptStrategy</code> in the application
 configuration.</p>

 <p>Possible return values:</p>

 <ol>
     <li>For string overlays, a map with the following keys:
         <dl>
             <dt><code>background_color</code></dt>
             <dd>CSS-compliant RGB(A) color.</dd>
             <dt><code>color</code></dt>
             <dd>CSS-compliant RGB(A) color.</dd>
             <dt><code>font</code></dt>
             <dd>Font name.</dd>
             <dt><code>font_min_size</code></dt>
             <dd>Minimum font size in points (ignored when <code>
             word_wrap</code> is <code>true</code>.</dd>
             <dt><code>font_size</code></dt>
             <dd>Font size in points.</dd>
             <dt><code>font_weight</code></dt>
             <dd>Font weight based on 1.</dd>
             <dt><code>glyph_spacing</code></dt>
             <dd>Glyph spacing based on 0.</dd>
             <dt><code>inset</code></dt>
             <dd>Pixels of inset.</dd>
             <dt><code>position</code></dt>
             <dd>Position like <code>top left</code>, <code>center right</code>,
             etc.</dd>
             <dt><code>string</code></dt>
             <dd>String to render.</dd>
             <dt><code>stroke_color</code></dt>
             <dd>CSS-compliant RGB(A) text outline color.</dd>
             <dt><code>stroke_width</code></dt>
             <dd>Text outline width in pixels.</dd>
             <dt><code>word_wrap</code></dt>
             <dd>Whether to wrap long lines within <code>string</code>.</dd>
         </dl>
     </li>
     <li>For image overlays, a map with the following keys:
         <dl>
             <dt><code>image</code></dt>
             <dd>Image pathname or URL.</dd>
             <dt><code>position</code></dt>
             <dd>See above.</dd>
             <dt><code>inset</code></dt>
             <dd>See above.</dd>
         </dl>
     </li>
     <li><code>null</code> for no overlay.</li>
 </ol></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getRedactions()">getRedactions</a></h3>
<div class="memberSignature"><span class="returnType">java.util.List&lt;java.util.Map&lt;java.lang.String,&#8203;java.lang.Long&gt;&gt;</span>&nbsp;<span class="memberName">getRedactions</span>()</div>
<div class="block">Tells the server what regions of an image to redact in response to a
 request. Will be called upon all image requests to any endpoint.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of maps, each with <code>x</code>, <code>y</code>, <code>width</code>, and
         <code>height</code> keys; or an empty list if no redactions are to
         be applied.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getMetadata()">getMetadata</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getMetadata</span>()</div>
<div class="block"><p>Returns XMP metadata to embed in the derivative image.</p>

 <p>Source image metadata is available in the <a href="JavaContext.html#getMetadata()"><code>metadata context property</code></a>.

 <p>Only XMP can be embedded in derivative images. See the user manual
 for examples of working with the XMP model programmatically.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String or containing XMP data to embed in the derivative image,
         or <code>null</code> to not embed anything.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="serializeMetaIdentifier(java.util.Map)">serializeMetaIdentifier</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">serializeMetaIdentifier</span>&#8203;(<span class="arguments">java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;&nbsp;metaIdentifier)</span></div>
<div class="block"><p>Serializes the given meta-identifier map.</p>

 <p>This method is called only when the <code>
 meta_identifier.transformer</code> configuration key is set to <code>
 DelegateMetaIdentifierTransformer</code>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metaIdentifier</code> - See <a href="#deserializeMetaIdentifier(java.lang.String)"><code>deserializeMetaIdentifier(String)</code></a>
                       for a description of the map structure.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Serialized meta-identifier compatible with the argument to
         <a href="#deserializeMetaIdentifier(java.lang.String)"><code>deserializeMetaIdentifier(String)</code></a>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#deserializeMetaIdentifier(java.lang.String)"><code>deserializeMetaIdentifier(String)</code></a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
